version: 2

models:
  - name: composite_kpis_mart
    description: "Cross-functional KPIs that align UA, Product, Monetization, and Finance teams around shared business goals"
    columns:
      - name: report_date
        description: "Date of the marketing activity"
        data_tests:
          - not_null
      - name: country_code
        description: "Country where ads were served"
      - name: os_name
        description: "Platform (iOS or Android)"
      - name: acquisition_channel
        description: "Marketing channel/ad network"
      - name: campaign_name
        description: "Marketing campaign name"
      - name: campaign_creative
        description: "Specific ad creative"
      - name: total_ad_spend
        description: "Total advertising spend in USD"
      - name: total_adjust_installs
        description: "Total installs attributed by Adjust"
      - name: total_revenue
        description: "Total revenue generated by users from this channel/campaign"
      - name: ctr
        description: "Click-through rate (clicks/impressions)"
      - name: install_conversion_rate
        description: "Install conversion rate (adjust_installs/clicks)"
      - name: attribution_discrepancy_rate
        description: "Difference between network and Adjust install reporting"
      - name: cost_per_install
        description: "Cost per install (CPI) - ad_spend/adjust_installs"
      - name: revenue_per_install
        description: "Revenue generated per install"
      - name: revenue_per_impression
        description: "Revenue generated per ad impression"
      - name: cpm
        description: "Cost per mille (thousand impressions)"
      - name: total_users_installed
        description: "Number of unique users installed"
      - name: users_with_revenue
        description: "Number of unique users who generated revenue"
      - name: arpu
        description: "Average Revenue Per User"
      - name: monetization_rate
        description: "Percentage of users generating revenue"
      - name: marketing_efficiency_score
        description: "Composite metric balancing acquisition cost with user quality: (revenue_per_install × monetization_rate) / cost_per_install"
      - name: channel_quality_index
        description: "Comprehensive channel evaluation: revenue_per_install × install_conversion_rate × (1 - attribution_discrepancy_rate)"
      - name: user_value_realization_rate
        description: "Links acquisition volume to monetization outcomes: (users_with_revenue / total_installs) × arpu"
      - name: media_roi
        description: "Pure media efficiency metric: (revenue_per_impression × ctr) / (cpm / 1000)"
      - name: cohort_performance_score
        description: "User quality metric independent of acquisition costs: revenue_per_install × monetization_rate"